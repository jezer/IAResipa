# Testes de Fluxo: Cancelamento de Reserva e Notificação de Lista de Espera (09.5)

Este documento descreve os cenários de teste para a função `process_message_logic` em `py_main_processor_v2.py`, focando no cancelamento de reservas e na notificação de usuários em lista de espera.

## Objetivo
Garantir que a lógica de cancelamento de reservas e a subsequente notificação da lista de espera funcionem corretamente, conforme o fluxo 09.5.

## Função Testada
`process_message_logic(message_details: dict)` em `C:\source\IAResipa\03.src\resipaia\py_main_processor_v2.py`

## Cenários de Teste

### Cenário 1: Usuário Solicita Cancelamento de Reserva (Sucesso)
- **Descrição:** Um usuário solicita o cancelamento de uma reserva existente e válida.
- **Input `message_details`:**
  ```json
  {
    "from": "5511999999999@c.us",
    "body": "Cancelar reserva 123",
    "type": "text"
  }
  ```
- **Resultado Esperado:** Uma confirmação de cancelamento para o usuário.

### Cenário 2: Usuário Solicita Cancelamento de Reserva (Reserva Não Encontrada)
- **Descrição:** Um usuário tenta cancelar uma reserva que não existe ou já foi cancelada.
- **Input `message_details`:**
  ```json
  {
    "from": "5511999999999@c.us",
    "body": "Cancelar reserva 999",
    "type": "text"
  }
  ```
- **Resultado Esperado:** Uma mensagem informando ao usuário que nenhuma reserva ativa foi encontrada para cancelamento.

### Cenário 3: Cancelamento de Reserva com Lista de Espera (Notificação)
- **Descrição:** Uma reserva é cancelada e há usuários na lista de espera para o mesmo recurso e horário.
- **Input `message_details`:**
  ```json
  {
    "from": "5511999999999@c.us",
    "body": "Cancelar reserva 456",
    "type": "text"
  }
  ```
- **Resultado Esperado:**
  - Confirmação de cancelamento para o usuário original.
  - Notificação para o próximo usuário da lista de espera (simulada).

```