# Testes de Fluxo: Disponibilidade e Seleção de Recurso (09.2)

Este documento descreve os cenários de teste para a função `process_message_logic` em `py_main_processor_v2.py`, focando na verificação de disponibilidade e seleção de recursos (quiosques e quadras).

## Objetivo
Garantir que a lógica de verificação de reservas ativas, apresentação de opções de reserva e direcionamento para a lista de espera funcione corretamente, conforme o fluxo 09.2.

## Função Testada
`process_message_logic(message_details: dict)` em `C:\source\IAResipa\03.src\resipaia\py_main_processor_v2.py`

## Cenários de Teste

### Cenário 1: Usuário com Reserva de Quiosque Ativa
- **Descrição:** Um usuário que já possui um quiosque reservado tenta fazer uma nova reserva.
- **Input `message_details`:**
  ```json
  {
    "from": "5511999999999@c.us",
    "body": "Quero reservar",
    "type": "text"
  }
  ```
- **Resultado Esperado:** Uma resposta informando que o usuário já possui um quiosque alugado e sugerindo o gerenciamento de reservas existentes.

### Cenário 2: Usuário com Reserva de Quadra Ativa
- **Descrição:** Um usuário que já possui uma quadra reservada tenta fazer uma nova reserva.
- **Input `message_details`:**
  ```json
  {
    "from": "5511999999999@c.us",
    "body": "Quero reservar",
    "type": "text"
  }
  ```
- **Resultado Esperado:** Uma resposta informando que o usuário já possui uma quadra alugada e sugerindo o gerenciamento de reservas existentes.

### Cenário 3: Usuário Sem Reservas Ativas, Solicitando Reservar Quiosque
- **Descrição:** Um usuário sem reservas ativas solicita reservar um quiosque.
- **Input `message_details`:
  ```json
  {
    "from": "5511999999999@c.us",
    "body": "Reservar quiosque",
    "type": "text"
  }
  ```
- **Resultado Esperado:** Uma resposta solicitando o tipo de quiosque e a data desejada.

### Cenário 4: Usuário Sem Reservas Ativas, Solicitando Reservar Quadra
- **Descrição:** Um usuário sem reservas ativas solicita reservar uma quadra.
- **Input `message_details`:
  ```json
  {
    "from": "5511999999999@c.us",
    "body": "Reservar quadra",
    "type": "text"
  }
  ```
- **Resultado Esperado:** Uma resposta solicitando o tipo de quadra e o horário desejado.

### Cenário 5: Usuário Solicitando Ver Opções Disponíveis
- **Descrição:** Um usuário solicita uma lista das opções de quiosques e quadras disponíveis.
- **Input `message_details`:
  ```json
  {
    "from": "5511999999999@c.us",
    "body": "Ver opções disponíveis",
    "type": "text"
  }
  ```
- **Resultado Esperado:** Uma resposta listando os quiosques e quadras disponíveis.

### Cenário 6: Usuário Solicitando Entrar em Lista de Espera
- **Descrição:** Um usuário solicita ser adicionado à lista de espera para um recurso específico.
- **Input `message_details`:
  ```json
  {
    "from": "5511999999999@c.us",
    "body": "Entrar em lista de espera",
    "type": "text"
  }
  ```
- **Resultado Esperado:** Uma resposta solicitando o recurso e a data/hora para a lista de espera.

